{% extends 'calculator/layout.html' %}

{% block title %}Мое питание{% endblock %}





{% block content %}

<head>
    <!-- Подключение jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

    <!-- Подключение jQuery UI -->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>


<form method="post">
    {% csrf_token %}
    <label for="product">Выберите продукт:</label>
    <input type="text" id="product-search" name="product-search"><br>
    <label for="weight">Введите вес продукта в граммах:</label>
    <input type="number" min="0" id="weight" name="weight"><br>
    <input type="submit" value="Добавить продукт">
</form>

    <script>
    $(function() {
        $("#product-search").autocomplete({
            source: '/search_products/',
            minLength: 2,
            select: function(event, ui) {
                $('#product-search').val(ui.item.value);
            }
        });
    });
    </script>
{% endblock %}